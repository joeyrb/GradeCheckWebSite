<!DOCTYPE html>

<html>
	<head>
		<!--<link rel="stylesheet" href="recomend.css">-->
		<link rel="stylesheet" href="profile.css">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="https://www.w3schools.com/w3css/3/w3.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<script src="script.js"></script>
		<script src="initHome.js"></script>
		<script src="studentInfo.js"></script>
		<script src="cookieControl.js"></script>
		
	</head>
	
	<body onload="initHome()">

	
	
	<!-- Top Nav Bar -->
	<div class="w3-bar w3-xlarge w3-center" style="background-color: #011C4F; color: #C1A868;">
	 <!-- <button class="w3-bar-item w3-button" id="hamburger" onclick="w3_open();">&#9776;</button>-->
	  <a href="./profile.html" class="w3-bar-item w3-button w3-right">User: <i id="doc_User" class="w3-large"></i></a>

	<a href="./flowchart.html" class="w3-bar-item w3-button w3-right">Flow Chart</a>
	  <a href="./recomend.php" class="w3-bar-item w3-button w3-right">Recommended Courses</a>
	  <a href="./home.html" class="w3-bar-item w3-button w3-right">Home</a>
	</div>
	
<form action="profile.php" method="post" onload="loadXML()">
		<fieldset>
		<legend>Profile Information</legend>
		
		First Name:<br>
		<input type="text" name="firstname" required><br>
		<br>
		Last Name:<br>
		<input type="text" name="lastname" required><br>
		<br>
		Student ID:<br>
		<input type="text" name="studentid" readonly="readonly"><br>
		<br>
		New Password:<br>
		<input type="password" placeholder="New Password" name="pass"><br>
		<br>
		
		<!-- Submit button-->
		<button type="submit">Apply</button>
		<br>
		<!-- Cancel button-->
		<button type="button" onclick="location.href= 'home.html';">Cancel</button>
		<br>
		<p id="demo"></p>
		</fieldset>
	</form>
	
	<script>
		function loadXML() {
		  var xmlhttp = new XMLHttpRequest();
		  xmlhttp.onreadystatechange = function() {
			if (this.readyState == 4 && this.status == 200) {
			  myFunction(this);
			}
		  };
		  myFunction(this);
		  var name = cookieControl:getCurrentUID();
		  document.getElementById("demo").innerHTML = "hello";
		  
		  xmlhttp.open("GET", "/users/"+name+".xml" , true);
		  xmlhttp.send();
		}

		function myFunction(xml) {
			var student, name,first,last, id, xmlDoc;
			xmlDoc = xml.responseXML;
		  
			//student = xmlDoc.getElementsByTagName("student");
			
			
			name = xmlDoc.getElementsByTagName("name");
			first = name.getElecmentsByTagName("first").[0].childNodes[0].nodeValue;
			last = name.getElecmentsByTagName("last").[0].childNodes[0].nodeValue;
			id = student.getElecmentsByTagName("studentid").value.
			
			document.getElementByName("firstname").placeholder = first;
			document.getElementByName("lastname").placeholder = last;
			document.getElementByName("studentid").placeholder = id;
		}
	</script>
	</body>

</html>
